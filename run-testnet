let crplayToken = await CRPLAY.deployed()
let usdtToken = await USDT.deployed()
let goeyToken = await GOEYCOIN.deployed()
let presale = await PreSale.deployed()





await presale.createCategory('Metaverse', 'google.com')
await presale.createCategory('Mobility', 'google.com')

total = web3.utils.toWei('100', 'ether')
let price = web3.utils.toWei('0.0002135', 'ether')
let totalApprove = web3.utils.toWei('100000000000000000000', 'wei')

let minPerUser = web3.utils.toWei('10', 'wei')
let maxPerUser = web3.utils.toWei('1000', 'wei')




let softCap = web3.utils.toWei('10000', 'wei')
let hardCap = web3.utils.toWei('1000000', 'wei')

let percent = web3.utils.toWei('50', 'wei')


let finish = 1664675814 
let inital = 1656727014


await crplayToken.approve(presale.address,total)
await goeyToken.approve(presale.address,total)

await usdtToken.approve(presale.address,total)


await presale.addSale({total:total,price:price,startTime:inital,endTime:finish,hasVesting:true,startTimeVesting:inital,finishTimeVesting:finish,totalPercentLiquidPool:percent,softCap:softCap,hardCap:hardCap,minPerUser:minPerUser,maxPerUser:maxPerUser,urlProperties:"https://gateway.pinata.cloud/ipfs/QmaR8yFnMWT7bjq5HQjfbLRmWnGT97Un383SCEoxEaZJkV",token_:crplayToken.address,paymentToken_:usdtToken.address,category:1})



await presale.addSale({total:total,price:price,startTime:inital,endTime:finish,hasVesting:true,startTimeVesting:inital,finishTimeVesting:finish,totalPercentLiquidPool:percent,softCap:softCap,hardCap:hardCap,minPerUser:minPerUser,maxPerUser:maxPerUser,urlProperties:"https://gateway.pinata.cloud/ipfs/QmQQ7itEULZf1NFcYyRS12aCx3PdzXNBUrdsBndhjHX9SN",token_:goeyToken.address,paymentToken_:usdtToken.address,category:2})


await presale.buy(total,1)


await presale.start(1)
await presale.start(2)


let totalCrplayer = web3.utils.toWei((4200*10**10).toString(), 'wei')
let totalUSDT = web3.utils.toWei("1", 'ether')



await crplayToken.approve(presale.address,totalCrplayer)

await usdtToken.approve(presale.address,totalUSDT)

await presale.addLiquidity(totalCrplayer,totalUSDT,1)